<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="ui/ajaxcalls.js" ></script>
<title></title>
</head>
<Body>
<a href="/">Home</a>
<p id="a2p1"></p>
<p id="a2p2"></p>
<h1>Article Two</h1>
<h3>Test</h3>
<h4 id="h2">This button <button id="B" > Click me! </button> has been clicked  <span id="ssp">   0   </span> times.</h4>
<script type="text/javascript">
    document.getElementById('a2p1').innerHTML="hi";
   // document.getElementById('a2p2').innerHTML="Ajax";
    // for Ajax data call        
    var button1=document.getElementById("B");

    button1.onclick=function(){
       
    var request= new XMLHttpRequest();
    if(request)
    {var span3=document.getElementById("a2p2");
              span3.innerHTML="request object created sucessfully";
    }
    else
    {
        var span3=document.getElementById("a2p2");
              span3.innerHTML="request object NOT created";
    }
    request.onreadystatechange=function(){
        if(request.readyState==2 )
        {  
           
             var counter =request.responseText;
             var span=document.getElementById("ssp");
             span.innerHTML=counter.toString();
        }
        else
        {
            var span2=document.getElementById("a2p1");
             span2.innerHTML="request not done";
            
        }
    };
    
    request.open('GET',"https://cloud.imad.hasura.io/code/files/server.js/counter",true);
    request.send(null);
   };
</script>
    

</body>
</html>
